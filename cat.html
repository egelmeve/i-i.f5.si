<!DOCTYPE html> 
<html lang="ja"> 
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <script src="https://ad.i-i.f5.si/ad.js" defer></script>
    <title>匿名投稿</title> 
    <style> 
      body { 
        font-family: Arial, 
        sans-serif; margin: 20px;
      } 
      #posts {
        margin-top: 20px; 
      }
      .post { 
        border: 1px solid 
          #ccc; padding: 10px; 
        margin-bottom: 10px; } 
      input[type="text"] { 
        display: none;
      } /* ユーザーIDフィールドを非表示に */ 
    </style>
  </head> 
  <body> <h1>匿名チャット</h1> 
    <form id="postForm"> 
      <input type="text" id="userId" placeholder="name" required readonly>
      <textarea id="message" placeholder="メッセージを入力してください" required></textarea> 
      <a href="https://fscoss.github.io/sp">利用規約・プライバシーポリシー</a>
      <button type="submit">submit</button> 
    </form> 
<p>※相手が誰かは不明です。ウイルスや詐欺サイトなどが配布されている可能性があります。</p>
<div id="posts"></div>  
<p>匿名チャット型サイト。</p>
<p>暴露、誹謗中傷は禁止(自己責任)</p>  
<Fscossadfow x="400" y="380"></Fscossadfow> 
    <script> 
      fetch('https://fscoss.stars.ne.jp/sf/i2.php') 
        .then(response => response.text()) 
        .then(data => { 
          document.getElementById('userId').value = data; 
        }) 
        .catch(error => console.error('ID取得エラー:', error));
      document.getElementById('postForm').addEventListener('submit',function (event) { 
        event.preventDefault();  
        const userId = document.getElementById('userId').value;
        const message = document.getElementById('message').value; 
        fetch('https://fscoss.stars.ne.jp/api/1.php', { 
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' 
                   }, 
          body: new URLSearchParams({ id: userId, message: message }) }) 
          .then(response => response.json()) .then(data => { 
            if (data.success) {  
              document.getElementById('message').value = '';loadPosts(); }
            else { alert(data.message); } }) .catch(error => 
            console.error('投稿エラー:', error)); }); function loadPosts() {
        fetch('https://fscoss.stars.ne.jp/api/1.php') 
          .then(response => response.json()) 
          .then(data => { 
            const postsDiv = document.getElementById('posts');
            postsDiv.innerHTML = ''; 
            if (data.success) {
              data.posts.forEach(post => { 
                const postDiv = document.createElement('div');
                postDiv.className = 'post'; 
                postDiv.innerHTML = `<strong>${post.id}</strong>: <br> ${post.message}`; 
                postsDiv.appendChild(postDiv); }); } else { 
              postsDiv.innerHTML = '投稿はありません。'; } })
          .catch(error => console.error('取得エラー:', error)); }window.onload = loadPosts;
    </script> 
  </body> 
</html>
